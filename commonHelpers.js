import{i as d,a as h,S as b}from"./assets/vendor-bad0427b.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const e={searchForm:document.getElementById("searchForm"),galleryImages:document.querySelector("ul.gallery"),loader:document.querySelector(".loader"),loadBtn:document.querySelector(".load-btn"),galleryItem:document.querySelector("ul.gallery-item")},s={perPage:40,page:1,query:"",maxPage:0};e.loader.style.display="none";e.loadBtn.style.display="none";e.searchForm.addEventListener("submit",I);async function I(t){t.preventDefault();const l=t.currentTarget;if(s.query=l.elements.searchQuery.value.trim(),!!s.query){e.galleryImages.innerHTML="",s.page=1,e.loader.style.display="block";try{const{hits:a,totalHits:n}=await y(s);s.maxPage=Math.ceil(n/s.perPage),m(a,e.galleryImages),a.length>0&&a.length!==n?(e.loadBtn.style.display="block",e.loadBtn.addEventListener("click",g)):(e.loadBtn.style.display="none",e.loader.style.display="none",d.show({message:"❌Sorry, there are no images matching your search query. Please try again!",messageColor:"#ffffff",backgroundColor:"#EF4040",position:"topRight",maxWidth:"420px",close:!1}))}catch{u()}finally{l.reset()}}}function y({query:t,page:l=1,perPage:a}){return h.get("https://pixabay.com/api/?key=41802498-7aef04e1b4b4791f33c618bc1",{params:{q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,perPage:a,page:l}}).then(({data:n})=>n)}async function g(){s.page+=1,e.loader.style.display="block",e.loadBtn.disabled=!0;try{const{hits:t}=await y(s);m(t,e.galleryImages)}catch{u()}finally{e.loader.style.display="none",e.loadBtn.disabled=!1}s.page===s.maxPage&&(d.show({message:"We're sorry, but you've reached the end of search results.",messageColor:"#ffffff",backgroundColor:"#808080",position:"bottomLeft",close:!1}),e.loadBtn.style.display="none",e.loader.style.display="none",e.loadBtn.removeEventListener("click",g))}let c=null;function m(t){const l=t.map(({webformatURL:a,largeImageURL:n,tags:r,likes:o,views:i,comments:f,downloads:p})=>`
 <li class="gallery-item">
 <a class="link-gallery" href="${n}">
 <img class="gallery-images" src="${a}" alt="${r}">
 </a>
 <div class="photo-info">
     <p class="info-number"><strong>Like</strong> ${o}</p>
     <p class="info-number"><strong>Views</strong> ${i}</p>
     <p class="info-number"><strong>Comments</strong> ${f}</p>
     <p class="info-number"><strong>Downloads</strong> ${p}</p> 
 </div>
 </li>
`).join("");e.galleryImages.insertAdjacentHTML("beforeend",l),c?c.refresh():c=new b(".gallery a")}function u(t){d.error({title:"Error",message:"Wrong operation!!!"}),e.loader.style.display="none",e.loadBtn.style.display="none"}if(e.galleryItem){let l=function(){window.scrollBy({top:t*2,behavior:"smooth"})};const t=e.galleryItem.getBoundingClientRect().height;l()}
//# sourceMappingURL=commonHelpers.js.map
